<!DOCTYPE html>
<html lang="en">

<head>
  <%- include("./layout/layout.css.ejs") %>

</head>

<body>

  <%- include("./layout/layout.header.ejs") %>
    <div class="row ">
      <div class="col-12 grid-margin">
        <div class="row ">


          <div class="col-4 grid-margin">
          </div>
          <div class="col-4 grid-margin"></div>
          <div class="col-4 grid-margin">
              <div class="box">
                  <div class="container-1">
                      <span class="icon"><i class="fa fa-search"></i></span>
                      <input type="search" id="myInput" onkeyup="myFunction()"
                          placeholder="Search for names.." />
                  </div>
              </div>
          </div>

      </div>
        <div style="margin-bottom: 5px;">
          <a href="./addproduct" class="btn btn-success"><i class="fas fa-plus-square"></i> Add new</a>
        </div>

        <table style="color: white;border-radius: 5px;" class="table table-dark" id="myTable">
          <thead>
            <tr>

              <th scope="col">ProductName</th>
              <th scope="col">CategoryName</th>
              <th scope="col">Image</th>
              <th scope="col">Price</th>
              <th scope="col">Quantity</th>
              <th scope="col" colspan="2">Option</th>

            </tr>
          </thead>
          <tbody>
            <tr>
              <% list.rows.forEach(function(product){ %>
            <tr>
              <td>
                <%= product.productname %>
              </td>
              <td>
                <%= product.categoryName %>
              </td>
              <td>
                <img style="width: 100px; height: 100px;" src="../uploads/<%= product.imageurl %>" alt="">
              </td>
              <td>
                <%= product.price %>
              </td>
              <td>
                <%= product.quantity %>
              </td>

              <td><a href="./updateproduct/<%= product.id %>"><i class='fas fa-pencil-ruler'
                    style='font-size:20px'></i></a>&nbsp;&nbsp;&nbsp;&nbsp;
                    <a href="./Detailproduct/<%= product.id %>"><i class="fas fa-eye"
                      style='font-size:20px'></i>&nbsp;&nbsp;&nbsp;&nbsp;
                <a href="./deleteproduct/<%= product.id %>" onclick="return confirm('Are you sure you want to delete this item?');"><i class="fas fa-trash"
                    style='font-size:20px; color: 	#FF3333;'></i></a>
              </td>
            </tr>
            <% }); %>
              </tr>
          </tbody>
        </table>
      </div>
    </div>
   
    <%- include("./layout/layout.footer.ejs") %>
      <%- include("./layout/layout.js.ejs") %>
      <style>
        .container-1 {
            width: 300px;
            vertical-align: middle;
            white-space: nowrap;
            position: relative;
        }

        .container-1 input#myInput {
            width: 384px;
            height: 32px;
            background: #2b303b;
            border: none;
            font-size: 10pt;
            float: left;
            color: #63717f;
            padding-left: 45px;
            -webkit-border-radius: 5px;
            -moz-border-radius: 5px;
            border-radius: 5px;
        }

        .container-1 input#search::-webkit-input-placeholder {
            color: #65737e;
        }

        .container-1 input#search:-moz-placeholder {
            /* Firefox 18- */
            color: #65737e;
        }

        .container-1 input#search::-moz-placeholder {
            /* Firefox 19+ */
            color: #65737e;
        }

        .container-1 input#search:-ms-input-placeholder {
            color: #65737e;
        }

        .container-1 .icon {
            position: absolute;
            top: 50%;
            margin-left: 17px;
            margin-top: 10px;
            z-index: 1;
            color: #4f5b66;
        }
    </style>
    <script>
        function myFunction() {
            // Declare variables
            var input, filter, table, tr, td, i, txtValue;
            input = document.getElementById("myInput");
            filter = input.value.toUpperCase();
            table = document.getElementById("myTable");
            tr = table.getElementsByTagName("tr");

            // Loop through all table rows, and hide those who don't match the search query
            for (i = 0; i < tr.length; i++) {
                td = tr[i].getElementsByTagName("td")[0];
                if (td) {
                    txtValue = td.textContent || td.innerText;
                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                        tr[i].style.display = "";
                    } else {
                        tr[i].style.display = "none";
                    }
                }
            }
        }
    </script>
</body>

</html>